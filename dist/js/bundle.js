"use strict";angular.module("vimeoApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,t){t.otherwise("/"),e.state("home",{url:"/",templateUrl:"../views/home.html",controller:"mainCtrl"}).state("userVideos",{url:"/userVideos",templateUrl:"./views/userVideos.html",controller:"userVideosCtrl"}).state("search",{url:"/search",templateUrl:"views/search.html",controller:"searchCtrl"}).state("edit",{url:"/edit",templateUrl:"../views/editvideo.html",controller:"editCtrl"}).state("playVideo",{url:"/playVideo",templateUrl:"views/playVideo.html",controller:"playVideoCtrl"}).state("upload",{url:"/upload",templateUrl:"./views/upload.html",controller:"uploadCtrl"})}]),angular.module("vimeoApp").controller("editCtrl",["$scope",function(e){}]),angular.module("vimeoApp").controller("mainCtrl",["$scope","mainService",function(e,t){e.login=function(){t.login().then(function(t){e.data=t.data})},e.login()}]),angular.module("vimeoApp").controller("navBarCtrl",["$scope","mainService","$state",function(e,t,o){e.searchQuery=function(i){o.go("home"),t.searchVideos(1,i).then(function(i){t.searchedVideo(i.data.data),o.go("search"),e.query=""})},e.getUser=function(){t.getUser().then(function(e){console.log(e.data),o.go("upload")})}}]),angular.module("vimeoApp").controller("playVideoCtrl",["$scope","mainService",function(e,t){e.video=t.video;var o=t.id.replace(/\D/g,"");t.getComments(o).then(function(t){e.comments=t.data.data,console.log(e.comments)}),document.querySelector(".videoHolder").innerHTML=e.video}]),angular.module("vimeoApp").controller("searchCtrl",["$scope","mainService","$state",function(e,t,o){!function(){e.videos=t.videoData}(),e.getVideoID=function(e){t.getId(e)},e.playVideo=function(e){t.clickedVideo(e),o.go("playVideo")},e.page=function(o){t.searchVideos(o,t.query).then(function(t){e.videos=t.data.data})}}]),angular.module("vimeoApp").controller("uploadCtrl",["$scope","mainService","$state",function(e,t,o){e.upload=function(){t.uploadVideo(e.video).then(function(e){console.log(e.data),o.go("userVideos")})}}]),angular.module("vimeoApp").controller("userVideosCtrl",["$scope","mainService",function(e,t){e.userVideos=function(){t.userVideos().then(function(t){e.videos=t.data.data,console.log(e.videos)})}}]),angular.module("vimeoApp").directive("footerDir",function(){return{restrict:"AE",templateUrl:"./views/footerDir.html"}}),angular.module("vimeoApp").directive("navBar",function(){return{restrict:"E",templateUrl:"./views/navBar.html",link:function(e){},controller:"navBarCtrl"}}),angular.module("vimeoApp").service("mainService",["$http",function(e){var t=this,o="http://localhost:3005";this.videoData="",this.searchedVideo=function(e){this.videoData=e},this.id="",this.getId=function(e){t.id=e},this.video="",this.clickedVideo=function(e){this.video=e},this.searchVideos=function(i,r){return t.query=r,e({method:"GET",url:o+"/api/videos/"+i+"?search="+r})},this.getVideoById=function(t){return e({method:"GET",url:o+"/api/videos/"+t})},this.getComments=function(t){return e({method:"GET",url:o+"/api/videos/"+t+"/comments"})},this.postComment=function(t){return e({method:"POST",data:"",url:o+"/api/comments/"+t})},this.login=function(){return e({method:"GET",url:o+"/api/login"})},this.getUser=function(){return e({method:"GET",url:o+"/api/currentuser"})},this.uploadVideo=function(t){return console.log(t),e({method:"POST",data:{video:t},url:o+"/api/upload"})},this.userVideos=function(){return e({method:"GET",url:o+"/api/usersvideos"})}}]);
//# sourceMappingURL=bundle.js.map
