"use strict";angular.module("vimeoApp",["ui.router"]).config(["$stateProvider","$urlRouterProvider",function(e,o){o.otherwise("/"),e.state("home",{url:"/",templateUrl:"../views/home.html",controller:"mainCtrl"}).state("userVideos",{url:"/userVideos",templateUrl:"views/userVideos.html",controller:"userVideosCtrl"}).state("search",{url:"/search",templateUrl:"views/search.html",controller:"searchCtrl"}).state("edit",{url:"/edit",templateUrl:"../views/editvideo.html",controller:"editCtrl"}).state("playVideo",{url:"/playVideo",templateUrl:"views/playVideo.html",controller:"playVideoCtrl"}).state("upload",{url:"/upload",templateUrl:"./views/upload.html",controller:"uploadCtrl"})}]),angular.module("vimeoApp").controller("editCtrl",["$scope",function(e){}]),angular.module("vimeoApp").controller("mainCtrl",["$scope","mainService",function(e,o){e.login=function(){o.login().then(function(o){e.data=o.data})},e.login()}]),angular.module("vimeoApp").controller("navBarCtrl",["$scope","mainService","$state",function(e,o,t){e.searchQuery=function(i){t.go("home"),o.searchVideos(1,i).then(function(i){o.searchedVideo(i.data.data),t.go("search"),e.query=""})},e.getUser=function(){o.getUser().then(function(e){console.log(e.data),t.go("upload")})}}]),angular.module("vimeoApp").controller("playVideoCtrl",["$scope","mainService",function(e,o){e.video=o.video;var t=o.id.replace(/\D/g,"");o.getComments(t).then(function(o){e.comments=o.data.data,console.log(e.comments)}),document.querySelector(".videoHolder").innerHTML=e.video}]),angular.module("vimeoApp").controller("searchCtrl",["$scope","mainService","$state",function(e,o,t){!function(){e.videos=o.videoData}(),e.getVideoID=function(e){o.getId(e)},e.playVideo=function(e){o.clickedVideo(e),t.go("playVideo")},e.page=function(t){o.searchVideos(t,o.query).then(function(o){e.videos=o.data.data})}}]),angular.module("vimeoApp").controller("uploadCtrl",["$scope","mainService","$state",function(e,o,t){e.upload=function(){o.uploadVideo(e.video).then(function(e){console.log(e.data),t.go("userVideos")})}}]),angular.module("vimeoApp").controller("userVideosCtrl",["$scope","mainService",function(e,o){e.userVideos=function(){o.userVideos().then(function(o){e.videos=o.data,console.log(e.videos)})}}]),angular.module("vimeoApp").directive("footerDir",function(){return{restrict:"AE",templateUrl:"./views/footerDir.html"}}),angular.module("vimeoApp").directive("navBar",function(){return{restrict:"E",templateUrl:"./views/navBar.html",link:function(e){},controller:"navBarCtrl"}}),angular.module("vimeoApp").service("mainService",["$http",function(e){var o=this,t="http://localhost:3005";this.videoData="",this.searchedVideo=function(e){this.videoData=e},this.id="",this.getId=function(e){o.id=e},this.video="",this.clickedVideo=function(e){this.video=e},this.searchVideos=function(i,r){return o.query=r,e({method:"GET",url:t+"/api/videos/"+i+"?search="+r})},this.getVideoById=function(o){return e({method:"GET",url:t+"/api/videos/"+o})},this.getComments=function(o){return e({method:"GET",url:t+"/api/videos/"+o+"/comments"})},this.postComment=function(o){return e({method:"POST",data:"",url:t+"/api/comments/"+o})},this.login=function(){return e({method:"GET",url:t+"/api/login"})},this.getUser=function(){return e({method:"GET",url:t+"/api/currentuser"})},this.uploadVideo=function(o){return console.log(o),e({method:"POST",data:{video:o},url:t+"/api/upload"})},this.userVideos=function(){return e({method:"GET",url:t+"/api/usersvideos"})}}]);
//# sourceMappingURL=bundle.js.map
