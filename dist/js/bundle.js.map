{"version":3,"sources":["bundle.js","app.js","controllers/accountCtrl.js","controllers/loadingCtrl.js","controllers/mainCtrl.js","controllers/navBarCtrl.js","controllers/playVideo.js","controllers/searchCtrl.js","controllers/settingsCtrl.js","controllers/uploadVideoCtrl.js","controllers/userVideos.js","directives/footerDir.js","directives/navBar.js","services/mainService.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","$scope","$timeout","loadB","loadG","loadR","mainService","$state","login","then","data","res","playVideo","videoLink","uri","clickedVideo","id","replace","getId","go","getVideosByChannel","staffpicks","profilePicAndUpload","logInNavBar","mainDropDown","logout","console","log","searchQuery","searchVideos","query","searchedVideo","response","getUser","checkUser","name","profilePicture","pictures","link","userName","video","arr","comments","getComments","addComment","postComment","text","getVideo","getVideoById","media","document","querySelector","innerHTML","test2","videos","videoData","getVideoID","page","num","addToWatchLaterList","addToWatchLater","$http","getAccessToken","method","headers","Authorization","resp","access_token","type","redirect_url","upload_link_secure","userVideos","play","displayWatchLaterList","getWatchLaterList","list","directive","restrict","scope","service","serverUrl","push","length","shift","channel","uploadVideo"],"mappings":"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","file":"bundle.js","sourcesContent":["'use strict';\n\nangular.module('vimeoApp', [\"ui.router\"]).config(function ($stateProvider, $urlRouterProvider) {\n\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider.state('home', {\n        url: '/',\n        templateUrl: './views/home.html',\n        controller: 'mainCtrl'\n    }).state('userVideos', {\n        url: '/userVideos',\n        templateUrl: './views/userVideos.html',\n        controller: 'userVideosCtrl'\n    }).state('search', {\n        url: '/search',\n        templateUrl: './views/search.html',\n        controller: 'searchCtrl'\n    }).state('edit', {\n        url: '/edit',\n        templateUrl: './views/editvideo.html',\n        controller: 'editCtrl'\n    }).state('playvideo', {\n        url: '/playvideo',\n        templateUrl: './views/playVid.html',\n        controller: 'playVideo'\n    }).state('uploadVideo', {\n        url: '/uploadVideo',\n        templateUrl: './views/uploadVideo.html',\n        controller: 'uploadVideoCtrl'\n    }).state('loading', {\n        url: '/searching',\n        templateUrl: './views/loading.html',\n        controller: 'loadingCtrl'\n    }).state('watchLater', {\n        url: '/watchlater',\n        templateUrl: './views/watchLater.html',\n        controller: 'userVideos'\n    });\n});\n'use strict';\n\nangular.module('vimeoApp').controller('accountCtrl', function ($scope) {});\n'use strict';\n\nangular.module('vimeoApp').controller('loadingCtrl', function ($scope, $timeout) {\n\n    $scope.loadB = true;\n    $scope.loadG = false;\n    $scope.loadR = false;\n\n    $timeout();\n\n    $timeout(function () {\n        $scope.loadG = true;\n    }, 500);\n\n    $timeout();\n\n    $timeout(function () {\n        $scope.loadR = true;\n    }, 1000);\n\n    $timeout();\n});\n'use strict';\n\nangular.module('vimeoApp').controller('mainCtrl', function ($scope, mainService, $state) {\n\n    $scope.login = function () {\n        mainService.login().then(function (res) {\n            $scope.data = res.data;\n        });\n    };\n    $scope.login();\n\n    $scope.playVideo = function (videoLink, uri) {\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n\n    mainService.getVideosByChannel('staffpicks').then(function (res) {\n        $scope.staffpicks = res.data.data;\n    });\n});\n'use strict';\n\nangular.module('vimeoApp').controller('navBarCtrl', function ($scope, mainService, $state) {\n\n    $scope.profilePicAndUpload = false;\n\n    $scope.logInNavBar = true;\n\n    $scope.mainDropDown = true;\n\n    $scope.login = function () {\n        mainService.login().then(function (res) {\n            $scope.data = res.data;\n        });\n    };\n    $scope.login();\n\n    $scope.logout = function () {\n        $scope.logInNavBar = false;\n        mainService.logout().then(function (res) {\n            console.log(res);\n        });\n    };\n\n    $scope.searchQuery = function (query) {\n        $state.go('loading');\n        mainService.searchVideos(1, query).then(function (response) {\n            mainService.searchedVideo(response.data.data);\n            $state.go('search');\n            $scope.query = '';\n        });\n    };\n    $scope.getUser = function () {\n        $state.go('uploadVideo');\n        mainService.getUser().then(function (res) {});\n    };\n\n    $scope.checkUser = function () {\n        mainService.getUser().then(function (res) {\n            if (res.data.name) {\n                $scope.logInNavBar = false;\n                $scope.profilePicture = res.data.pictures[3].link;\n                $scope.userName = res.data.name;\n                $scope.profilePicAndUpload = true;\n            }\n        });\n    };\n\n    $scope.checkUser();\n});\n'use strict';\n\nangular.module('vimeoApp').controller('playVideo', function ($scope, mainService, $state) {\n\n    $scope.video = mainService.video;\n\n    var id = mainService.arr[0];\n    $scope.comments = [];\n\n    mainService.getComments(id).then(function (res) {\n        $scope.comments = res.data.data;\n    });\n\n    $scope.addComment = function () {\n        var id = mainService.arr[0];\n        // $state.go('loading');\n        mainService.postComment(id, $scope.text).then(function (res) {\n            mainService.getComments(id).then(function (res) {\n                $scope.comments = res.data.data;\n                // $state.go('playvideo');\n            });\n        });\n    };\n    $scope.playVideo = function (videoLink, uri) {\n        $state.go('loading');\n        console.log(videoLink, uri);\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n\n    $scope.getVideo = function () {\n        var id = mainService.arr[0];\n        mainService.getVideoById(id).then(function (res) {\n            $scope.media = res.data;\n        });\n    };\n    $scope.getVideo();\n\n    mainService.getVideosByChannel('staffpicks').then(function (res) {\n        $scope.staffpicks = res.data.data;\n    });\n\n    document.querySelector(\".video-window\").innerHTML = $scope.video;\n});\n'use strict';\n\nangular.module('vimeoApp').controller('searchCtrl', function ($scope, mainService, $state) {\n\n    function test2() {\n        $scope.videos = mainService.videoData;\n    }\n    test2();\n\n    $scope.getVideoID = function (id) {\n        mainService.getId(id);\n    };\n\n    $scope.playVideo = function (videoLink, uri) {\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n\n    $scope.page = function (num) {\n        mainService.searchVideos(num, mainService.query).then(function (res) {\n            $scope.videos = res.data.data;\n        });\n    };\n    $scope.addToWatchLaterList = function () {\n        mainService.getVideoById;\n        mainService.addToWatchLater(video, id).then(function (res) {\n            console.log(res);\n        });\n    };\n});\n\"use strict\";\n'use strict';\n\nangular.module('vimeoApp').controller('uploadVideoCtrl', function ($scope, mainService, $state, $http) {\n\n    $scope.getAccessToken = function () {\n        mainService.getAccessToken().then(function (resp) {\n            $http({\n                method: 'POST',\n                url: 'https://api.vimeo.com/me/videos',\n                headers: { Authorization: 'Bearer ' + resp.data.access_token },\n                data: {\n                    type: 'POST',\n                    redirect_url: 'http://localhost:3012/#!/userVideos'\n                }\n            }).then(function (res) {\n                var link = res.data.upload_link_secure;\n                $http({\n                    method: 'POST',\n                    url: link,\n                    data: $scope.video\n                }).then(function (res) {\n                    console.log(res);\n                });\n            });\n        });\n    };\n});\n'use strict';\n\nangular.module('vimeoApp').controller('userVideosCtrl', function ($scope, mainService, $state) {\n    $scope.userVideos = function () {\n        mainService.userVideos().then(function (res) {\n            $scope.videos = res.data.data;\n            console.log($scope.videos);\n        });\n    };\n    $scope.userVideos();\n\n    $scope.play = function (videoLink, uri) {\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n    $scope.displayWatchLaterList = function () {\n        var id = mainService.arr[0];\n        mainService.getVideoById(id).then(function (res) {\n            mainService.getWatchLaterList(res.data, id).then(function (resp) {\n                $scope.list = resp.data;\n            });\n        });\n    };\n    $scope.displayWatchLaterList();\n});\n'use strict';\n\nangular.module('vimeoApp').directive('footerDir', function () {\n    return {\n        restrict: \"AE\",\n        templateUrl: \"./views/footerDir.html\"\n    };\n});\n'use strict';\n\nangular.module('vimeoApp').directive('navBar', function () {\n\n  return {\n    restrict: 'E',\n    templateUrl: './views/navBar.html',\n    link: function link(scope) {},\n    controller: 'navBarCtrl'\n  };\n});\n'use strict';\n\nangular.module('vimeoApp').service('mainService', function ($http) {\n    var _this = this;\n\n    var serverUrl = 'http://localhost:3012';\n    this.videoData = '';\n    this.video = '';\n    this.arr = [];\n    this.searchedVideo = function (data) {\n        _this.videoData = data;\n    };\n    this.clickedVideo = function (videoLink) {\n        _this.video = videoLink;\n    };\n    this.getId = function (id) {\n        _this.arr.push(id);\n        if (_this.arr.length > 1) {\n            while (_this.arr.length > 1) {\n                _this.arr.shift();\n            }\n        }\n    };\n    this.getVideosByChannel = function (channel) {\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos/channels/' + channel)\n        });\n    };\n    this.searchVideos = function (page, query) {\n        _this.query = query;\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos/' + page + '?search=' + query)\n        });\n    };\n    this.getVideoById = function (id) {\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos?id=' + id)\n        });\n    };\n    this.getComments = function (id) {\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos/' + id + '/comments')\n        });\n    };\n    this.postComment = function (id, text) {\n        return $http({\n            method: 'POST',\n            data: { text: text },\n            url: serverUrl + ('/api/videos/' + id + '/comments')\n        });\n    };\n    this.login = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/login'\n        });\n    };\n    this.logout = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/logout'\n        });\n    };\n    this.getUser = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/currentuser'\n        });\n    };\n    this.uploadVideo = function () {\n        return $http({\n            method: 'POST',\n            url: serverUrl + '/api/upload'\n        });\n    };\n    this.userVideos = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/usersvideos'\n        });\n    };\n    this.getAccessToken = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/accesstoken'\n        });\n    };\n    this.addToWatchLater = function (video, id) {\n        return $http({\n            method: 'POST',\n            data: { video: video },\n            url: serverUrl + ('/api/videos/' + id + '/watchlater')\n        });\n    };\n    this.getWatchLaterList = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/usersvideos'\n        });\n    };\n});","angular.module('vimeoApp', [\"ui.router\"])\r\n    .config(function ($stateProvider, $urlRouterProvider) {\r\n\r\n        $urlRouterProvider.otherwise('/');\r\n\r\n        $stateProvider\r\n            .state('home', {\r\n                url: '/',\r\n                templateUrl: './views/home.html',\r\n                controller: 'mainCtrl'\r\n            })\r\n            .state('userVideos', {\r\n                url: '/userVideos',\r\n                templateUrl: './views/userVideos.html',\r\n                controller: 'userVideosCtrl'\r\n            })\r\n            .state('search', {\r\n                url: '/search',\r\n                templateUrl: './views/search.html',\r\n                controller: 'searchCtrl'\r\n            })\r\n            .state('edit', {\r\n                url: '/edit',\r\n                templateUrl: './views/editvideo.html',\r\n                controller: 'editCtrl'\r\n            })\r\n            .state('playvideo', {\r\n                url: '/playvideo',\r\n                templateUrl: './views/playVid.html',\r\n                controller: 'playVideo'\r\n            })\r\n            .state('uploadVideo', {\r\n                url: '/uploadVideo',\r\n                templateUrl: './views/uploadVideo.html',\r\n                controller: 'uploadVideoCtrl'\r\n            })\r\n            .state('loading', {\r\n                url: '/searching',\r\n                templateUrl: './views/loading.html',\r\n                controller: 'loadingCtrl'\r\n            })\r\n            .state('watchLater', {\r\n                url: '/watchlater',\r\n                templateUrl: './views/watchLater.html',\r\n                controller: 'userVideos'\r\n            })\r\n    });\r\n","angular.module('vimeoApp').controller('accountCtrl', function ($scope) {\r\n\r\n});\r\n","angular.module('vimeoApp').controller('loadingCtrl', function ($scope, $timeout) {\r\n\r\n    $scope.loadB = true;\r\n    $scope.loadG = false;\r\n    $scope.loadR = false;\r\n\r\n    $timeout();\r\n\r\n    $timeout(function () {\r\n        $scope.loadG = true;\r\n    }, 500);\r\n\r\n    $timeout();\r\n\r\n    $timeout(function () {\r\n        $scope.loadR = true;\r\n    }, 1000);\r\n\r\n    $timeout();\r\n\r\n});\r\n","angular.module('vimeoApp').controller('mainCtrl', function ($scope, mainService, $state) {\r\n\r\n    $scope.login = () => {\r\n        mainService.login().then(res => {\r\n            $scope.data = res.data;\r\n        })\r\n    }\r\n    $scope.login();\r\n\r\n    $scope.playVideo = (videoLink, uri) => {\r\n        mainService.clickedVideo(videoLink);\r\n        let id = uri.replace(/\\D/g, '');\r\n        mainService.getId(id);\r\n        $state.go('playvideo');\r\n    }\r\n\r\n    mainService.getVideosByChannel('staffpicks').then(res => {\r\n        $scope.staffpicks = res.data.data;\r\n    })\r\n});\r\n","angular.module('vimeoApp').controller('navBarCtrl', function ($scope, mainService, $state) {\r\n\r\n    $scope.profilePicAndUpload = false;\r\n\r\n    $scope.logInNavBar = true;\r\n\r\n    $scope.mainDropDown = true;\r\n\r\n    $scope.login = () => {\r\n        mainService.login().then(res => {\r\n            $scope.data = res.data;\r\n        })\r\n    }\r\n    $scope.login();\r\n\r\n    $scope.logout = () => {\r\n        $scope.logInNavBar = false;\r\n        mainService.logout().then(res => {\r\n            console.log(res);\r\n        })\r\n    }\r\n\r\n    $scope.searchQuery = query => {\r\n        $state.go('loading');\r\n        mainService.searchVideos(1, query).then(response => {\r\n            mainService.searchedVideo(response.data.data);\r\n            $state.go('search');\r\n            $scope.query = '';\r\n        })\r\n    }\r\n    $scope.getUser = () => {\r\n        $state.go('uploadVideo');\r\n        mainService.getUser().then(res => {\r\n        })\r\n    }\r\n\r\n    $scope.checkUser = () => {\r\n        mainService.getUser().then(res => {\r\n            if (res.data.name) {\r\n                $scope.logInNavBar = false;\r\n                $scope.profilePicture = res.data.pictures[3].link;\r\n                $scope.userName = res.data.name;\r\n                $scope.profilePicAndUpload = true;\r\n            }\r\n        })\r\n    }\r\n\r\n    $scope.checkUser();\r\n});\r\n","angular.module('vimeoApp').controller('playVideo', function ($scope, mainService, $state) {\r\n\r\n    $scope.video = mainService.video;\r\n\r\n    let id = mainService.arr[0];\r\n    $scope.comments = [];\r\n\r\n    mainService.getComments(id).then(res => {\r\n        $scope.comments = res.data.data;\r\n    })\r\n\r\n    $scope.addComment = () => {\r\n        let id = mainService.arr[0];\r\n        // $state.go('loading');\r\n        mainService.postComment(id, $scope.text).then(res => {\r\n            mainService.getComments(id).then(res => {\r\n                $scope.comments = res.data.data;\r\n                // $state.go('playvideo');\r\n\r\n            })\r\n        })\r\n    }\r\n    $scope.playVideo = (videoLink, uri) => {\r\n        $state.go('loading');\r\n        console.log(videoLink, uri);\r\n        mainService.clickedVideo(videoLink);\r\n        let id = uri.replace(/\\D/g, '');\r\n        mainService.getId(id);\r\n        $state.go('playvideo');\r\n    }\r\n\r\n    $scope.getVideo = () => {\r\n        let id = mainService.arr[0];\r\n        mainService.getVideoById(id).then(res => {\r\n            $scope.media = res.data\r\n        })\r\n    }\r\n    $scope.getVideo();\r\n\r\n    mainService.getVideosByChannel('staffpicks').then(res => {\r\n        $scope.staffpicks = res.data.data;\r\n    })\r\n\r\n    document.querySelector(\".video-window\").innerHTML = $scope.video;\r\n});\r\n","angular.module('vimeoApp').controller('searchCtrl', function ($scope, mainService, $state) {\r\n\r\n    function test2() {\r\n        $scope.videos = mainService.videoData;\r\n    }\r\n    test2();\r\n\r\n    $scope.getVideoID = id => {\r\n        mainService.getId(id);\r\n    }\r\n\r\n    $scope.playVideo = (videoLink, uri) => {\r\n        mainService.clickedVideo(videoLink);\r\n        let id = uri.replace(/\\D/g, '');\r\n        mainService.getId(id);\r\n        $state.go('playvideo');\r\n    }\r\n\r\n    $scope.page = num => {\r\n        mainService.searchVideos(num, mainService.query).then(res => {\r\n            $scope.videos = res.data.data;\r\n        })\r\n    }\r\n    $scope.addToWatchLaterList = () => {\r\n        mainService.getVideoById\r\n        mainService.addToWatchLater(video, id).then(res => {\r\n            console.log(res);\r\n        })\r\n    }\r\n});\r\n","","angular.module('vimeoApp').controller('uploadVideoCtrl', function ($scope, mainService, $state, $http) {\r\n\r\n    $scope.getAccessToken = () => {\r\n        mainService.getAccessToken().then(resp => {\r\n            $http({\r\n                method: 'POST',\r\n                url: 'https://api.vimeo.com/me/videos',\r\n                headers: {Authorization: `Bearer ${resp.data.access_token}`},\r\n                data: {\r\n                    type: 'POST',\r\n                    redirect_url: `http://localhost:3012/#!/userVideos`\r\n                }\r\n            }).then(res => {\r\n                let link = res.data.upload_link_secure;\r\n                $http({\r\n                    method: 'POST',\r\n                    url: link,\r\n                    data: $scope.video\r\n                }).then(res => {\r\n                    console.log(res);\r\n                })\r\n            })\r\n        })\r\n    }\r\n});\r\n","angular.module('vimeoApp').controller('userVideosCtrl', function ($scope, mainService, $state) {\r\n    $scope.userVideos = () => {\r\n        mainService.userVideos().then(res => {\r\n            $scope.videos = res.data.data;\r\n            console.log($scope.videos);\r\n        })\r\n    }\r\n    $scope.userVideos();\r\n\r\n    $scope.play = (videoLink, uri) => {\r\n        mainService.clickedVideo(videoLink);\r\n        let id = uri.replace(/\\D/g, '');\r\n        mainService.getId(id);\r\n        $state.go('playvideo');\r\n    }\r\n    $scope.displayWatchLaterList = () => {\r\n        let id = mainService.arr[0];\r\n        mainService.getVideoById(id).then(res => {\r\n            mainService.getWatchLaterList(res.data, id).then(resp => {\r\n                $scope.list = resp.data;\r\n            })\r\n        })\r\n\r\n    }\r\n    $scope.displayWatchLaterList();\r\n});\r\n","angular.module('vimeoApp').directive('footerDir', function () {\r\n    return {\r\n        restrict: \"AE\",\r\n        templateUrl: \"./views/footerDir.html\"\r\n    }\r\n});","angular.module('vimeoApp')\r\n.directive('navBar', function() {\r\n\r\n  return {\r\n    restrict: 'E',\r\n    templateUrl: './views/navBar.html',\r\n    link: function(scope){\r\n    },\r\n    controller: 'navBarCtrl'\r\n    }\r\n\r\n})\r\n","angular.module('vimeoApp').service('mainService', function ($http) {\r\n    let serverUrl = 'http://localhost:3012';\r\n    this.videoData = '';\r\n    this.video = '';\r\n    this.arr = [];\r\n    this.searchedVideo = data => {\r\n        this.videoData = data;\r\n    };\r\n    this.clickedVideo = videoLink => {\r\n        this.video = videoLink;\r\n    };\r\n    this.getId = id => {\r\n        this.arr.push(id);\r\n        if (this.arr.length > 1) {\r\n            while (this.arr.length > 1) {\r\n                this.arr.shift();\r\n            }\r\n        }\r\n    };\r\n    this.getVideosByChannel = channel => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + `/api/videos/channels/${channel}`\r\n        })\r\n    };\r\n    this.searchVideos = (page, query) => {\r\n        this.query = query;\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + `/api/videos/${page}?search=${query}`\r\n        })\r\n    };\r\n    this.getVideoById = id => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + `/api/videos?id=${id}`\r\n        })\r\n    };\r\n    this.getComments = id => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + `/api/videos/${id}/comments`\r\n        })\r\n    };\r\n    this.postComment = (id, text) => {\r\n        return $http({\r\n            method: 'POST',\r\n            data: {text},\r\n            url: serverUrl + `/api/videos/${id}/comments`\r\n        })\r\n    };\r\n    this.login = () => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + '/api/login'\r\n        })\r\n    };\r\n    this.logout = () => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + '/api/logout'\r\n        })\r\n    }\r\n    this.getUser = () => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + '/api/currentuser'\r\n        })\r\n    };\r\n    this.uploadVideo = () => {\r\n        return $http({\r\n            method: 'POST',\r\n            url: serverUrl + '/api/upload'\r\n        })\r\n    };\r\n    this.userVideos = () => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + '/api/usersvideos'\r\n        })\r\n    };\r\n    this.getAccessToken = () => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + '/api/accesstoken'\r\n        })\r\n    };\r\n    this.addToWatchLater = (video, id) => {\r\n        return $http({\r\n            method: 'POST',\r\n            data: {video},\r\n            url: serverUrl + `/api/videos/${id}/watchlater`\r\n        })\r\n    };\r\n    this.getWatchLaterList = () => {\r\n        return $http({\r\n            method: 'GET',\r\n            url: serverUrl + '/api/usersvideos'\r\n        })\r\n    }\r\n});\r\n"]}