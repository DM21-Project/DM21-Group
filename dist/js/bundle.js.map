{"version":3,"sources":["bundle.js","app.js","directives/footerDir.js","directives/navBar.js","services/mainService.js","controllers/accountCtrl.js","controllers/loadingCtrl.js","controllers/mainCtrl.js","controllers/navBarCtrl.js","controllers/playVideo.js","controllers/searchCtrl.js","controllers/settingsCtrl.js","controllers/uploadVideoCtrl.js","controllers/userVideos.js"],"names":["angular","module","config","$stateProvider","$urlRouterProvider","otherwise","state","url","templateUrl","controller","directive","restrict","link","scope","service","$http","serverUrl","videoData","video","arr","searchedVideo","data","clickedVideo","videoLink","getId","push","id","length","shift","getVideosByChannel","method","channel","searchVideos","page","query","getVideoById","getComments","postComment","text","login","getUser","uploadVideo","userVideos","getAccessToken","addToWatchLater","getWatchLaterList","$scope","$timeout","loadB","loadG","loadR","mainService","$state","then","res","playVideo","uri","replace","go","staffpicks","profilePicAndUpload","logInNavBar","mainDropDown","searchQuery","response","checkUser","name","profilePicture","pictures","userName","comments","addComment","console","log","getVideo","media","beforeDate","created_time","date","newD","slice","splitDate","split","noDash","filter","numb","forMoment","join","momentTime","moment","fromNow","dateTest","document","querySelector","innerHTML","test2","videos","getVideoID","num","addToWatchLaterList","headers","Authorization","resp","access_token","type","redirect_url","upload_link_secure","convertTime","seconds","minutes","Math","floor","convertedTime","play","displayWatchLaterList","list"],"mappings":"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","file":"bundle.js","sourcesContent":["'use strict';\n\nangular.module('vimeoApp', [\"ui.router\"]).config(function ($stateProvider, $urlRouterProvider) {\n\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider.state('home', {\n        url: '/',\n        templateUrl: './views/home.html',\n        controller: 'mainCtrl'\n    }).state('userVideos', {\n        url: '/userVideos',\n        templateUrl: './views/userVideos.html',\n        controller: 'userVideosCtrl'\n    }).state('search', {\n        url: '/search',\n        templateUrl: './views/search.html',\n        controller: 'searchCtrl'\n    }).state('edit', {\n        url: '/edit',\n        templateUrl: './views/editvideo.html',\n        controller: 'editCtrl'\n    }).state('playvideo', {\n        url: '/playvideo',\n        templateUrl: './views/playVid.html',\n        controller: 'playVideo'\n    }).state('uploadVideo', {\n        url: '/uploadVideo',\n        templateUrl: './views/uploadVideo.html',\n        controller: 'uploadVideoCtrl'\n    }).state('loading', {\n        url: '/searching',\n        templateUrl: './views/loading.html',\n        controller: 'loadingCtrl'\n    }).state('watchLater', {\n        url: '/watchlater',\n        templateUrl: './views/watchLater.html',\n        controller: 'userVideos'\n    });\n});\n'use strict';\n\nangular.module('vimeoApp').directive('footerDir', function () {\n    return {\n        restrict: \"AE\",\n        templateUrl: \"./views/footerDir.html\"\n    };\n});\n'use strict';\n\nangular.module('vimeoApp').directive('navBar', function () {\n\n  return {\n    restrict: 'E',\n    templateUrl: './views/navBar.html',\n    link: function link(scope) {},\n    controller: 'navBarCtrl'\n  };\n});\n'use strict';\n\nangular.module('vimeoApp').service('mainService', function ($http) {\n    var _this = this;\n\n    var serverUrl = 'http://localhost:3012';\n    this.videoData = '';\n    this.video = '';\n    this.arr = [];\n    this.searchedVideo = function (data) {\n        _this.videoData = data;\n    };\n    this.clickedVideo = function (videoLink) {\n        _this.video = videoLink;\n    };\n    this.getId = function (id) {\n        _this.arr.push(id);\n        if (_this.arr.length > 1) {\n            while (_this.arr.length > 1) {\n                _this.arr.shift();\n            }\n        }\n    };\n    this.getVideosByChannel = function (channel) {\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos/channels/' + channel)\n        });\n    };\n    this.searchVideos = function (page, query) {\n        _this.query = query;\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos/' + page + '?search=' + query)\n        });\n    };\n    this.getVideoById = function (id) {\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos?id=' + id)\n        });\n    };\n    this.getComments = function (id) {\n        return $http({\n            method: 'GET',\n            url: serverUrl + ('/api/videos/' + id + '/comments')\n        });\n    };\n    this.postComment = function (id, text) {\n        return $http({\n            method: 'POST',\n            data: { text: text },\n            url: serverUrl + ('/api/videos/' + id + '/comments')\n        });\n    };\n    this.login = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/login'\n        });\n    };\n    this.getUser = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/currentuser'\n        });\n    };\n    this.uploadVideo = function () {\n        return $http({\n            method: 'POST',\n            url: serverUrl + '/api/upload'\n        });\n    };\n    this.userVideos = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/usersvideos'\n        });\n    };\n    this.getAccessToken = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/accesstoken'\n        });\n    };\n    this.addToWatchLater = function (video, id) {\n        return $http({\n            method: 'POST',\n            data: { video: video },\n            url: serverUrl + ('/api/videos/' + id + '/watchlater')\n        });\n    };\n    this.getWatchLaterList = function () {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/usersvideos'\n        });\n    };\n});\n'use strict';\n\nangular.module('vimeoApp').controller('accountCtrl', function ($scope) {});\n'use strict';\n\nangular.module('vimeoApp').controller('loadingCtrl', function ($scope, $timeout) {\n\n    $scope.loadB = true;\n    $scope.loadG = false;\n    $scope.loadR = false;\n\n    $timeout();\n\n    $timeout(function () {\n        $scope.loadG = true;\n    }, 500);\n\n    $timeout();\n\n    $timeout(function () {\n        $scope.loadR = true;\n    }, 1000);\n\n    $timeout();\n});\n'use strict';\n\nangular.module('vimeoApp').controller('mainCtrl', function ($scope, mainService, $state) {\n\n    $scope.login = function () {\n        mainService.login().then(function (res) {\n            $scope.data = res.data;\n        });\n    };\n    $scope.login();\n\n    $scope.playVideo = function (videoLink, uri) {\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n\n    mainService.getVideosByChannel('staffpicks').then(function (res) {\n        $scope.staffpicks = res.data.data;\n    });\n});\n'use strict';\n\nangular.module('vimeoApp').controller('navBarCtrl', function ($scope, mainService, $state) {\n\n    $scope.profilePicAndUpload = false;\n\n    $scope.logInNavBar = true;\n\n    $scope.mainDropDown = true;\n\n    $scope.login = function () {\n        mainService.login().then(function (res) {\n            $scope.data = res.data;\n        });\n    };\n    $scope.login();\n\n    $scope.searchQuery = function (query) {\n        $state.go('loading');\n        mainService.searchVideos(1, query).then(function (response) {\n            mainService.searchedVideo(response.data.data);\n            $state.go('search');\n            $scope.query = '';\n        });\n    };\n    $scope.getUser = function () {\n        $state.go('uploadVideo');\n        mainService.getUser().then(function (res) {});\n    };\n\n    $scope.checkUser = function () {\n        mainService.getUser().then(function (res) {\n            if (res.data.name) {\n                $scope.logInNavBar = false;\n                $scope.profilePicture = res.data.pictures[3].link;\n                $scope.userName = res.data.name;\n                $scope.profilePicAndUpload = true;\n            }\n        });\n    };\n\n    $scope.checkUser();\n});\n'use strict';\n\nangular.module('vimeoApp').controller('playVideo', function ($scope, mainService, $state) {\n\n    $scope.video = mainService.video;\n\n    var id = mainService.arr[0];\n\n    mainService.getComments(id).then(function (res) {\n        $scope.comments = res.data.data;\n    });\n\n    $scope.addComment = function () {\n        var id = mainService.arr[0];\n        console.log(id);\n        console.log($scope.text);\n        mainService.postComment(id, $scope.text).then(function (res) {\n            mainService.getComments(id).then(function (res) {\n                $scope.comments = res.data.data;\n            });\n        });\n    };\n    $scope.playVideo = function (videoLink, uri) {\n        $state.go('loading');\n        console.log(videoLink, uri);\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n\n    $scope.getVideo = function () {\n        var id = mainService.arr[0];\n        mainService.getVideoById(id).then(function (res) {\n            $scope.media = res.data;\n\n            var beforeDate = res.data.created_time;\n            function date(beforeDate) {\n                var newD = beforeDate.slice(0, 10);\n                var splitDate = newD.split('');\n                var noDash = splitDate.filter(function (numb) {\n                    return numb !== '-';\n                });\n                var forMoment = noDash.join(\"\");\n                $scope.momentTime = moment(forMoment, \"YYYYMMDD\").fromNow();\n            }\n\n            date(\"2017-05-31T14:33:14+00:00\");\n\n            $scope.dateTest = moment(\"20170601\", \"YYYYMMDD\").fromNow();\n        });\n    };\n    $scope.getVideo();\n\n    mainService.getVideosByChannel('staffpicks').then(function (res) {\n        $scope.staffpicks = res.data.data;\n    });\n\n    document.querySelector(\".video-window\").innerHTML = $scope.video;\n});\n'use strict';\n\nangular.module('vimeoApp').controller('searchCtrl', function ($scope, mainService, $state) {\n\n    function test2() {\n        $scope.videos = mainService.videoData;\n    }\n    test2();\n\n    $scope.getVideoID = function (id) {\n        mainService.getId(id);\n    };\n\n    $scope.playVideo = function (videoLink, uri) {\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n\n    $scope.page = function (num) {\n        mainService.searchVideos(num, mainService.query).then(function (res) {\n            $scope.videos = res.data.data;\n        });\n    };\n    $scope.addToWatchLaterList = function () {\n        mainService.getVideoById;\n        mainService.addToWatchLater(video, id).then(function (res) {\n            console.log(res);\n        });\n    };\n});\n\"use strict\";\n'use strict';\n\nangular.module('vimeoApp').controller('uploadVideoCtrl', function ($scope, mainService, $state, $http) {\n\n    $scope.getAccessToken = function () {\n        mainService.getAccessToken().then(function (resp) {\n            $http({\n                method: 'POST',\n                url: 'https://api.vimeo.com/me/videos',\n                headers: { Authorization: 'Bearer ' + resp.data.access_token },\n                data: {\n                    type: 'POST',\n                    redirect_url: 'http://localhost:3012/#!/userVideos'\n                }\n            }).then(function (res) {\n                var link = res.data.upload_link_secure;\n                $http({\n                    method: 'POST',\n                    url: link,\n                    data: $scope.video\n                }).then(function (res) {\n                    console.log(res);\n                });\n            });\n        });\n    };\n});\n'use strict';\n\nangular.module('vimeoApp').controller('userVideosCtrl', function ($scope, mainService, $state) {\n\n    $scope.convertTime = function (seconds) {\n        var minutes = Math.floor(seconds / 60); // 7\n        var seconds = seconds % 60; // 30\n        $scope.convertedTime = minutes + \":\" + seconds;\n    };\n\n    $scope.userVideos = function () {\n        mainService.userVideos().then(function (res) {\n            $scope.videos = res.data.data;\n            console.log($scope.videos);\n        });\n    };\n    $scope.userVideos();\n\n    $scope.play = function (videoLink, uri) {\n        mainService.clickedVideo(videoLink);\n        var id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    };\n    $scope.displayWatchLaterList = function () {\n        var id = mainService.arr[0];\n        mainService.getVideoById(id).then(function (res) {\n            mainService.getWatchLaterList(res.data, id).then(function (resp) {\n                $scope.list = resp.data;\n            });\n        });\n    };\n    $scope.displayWatchLaterList();\n});","angular.module('vimeoApp', [\"ui.router\"])\n    .config(function ($stateProvider, $urlRouterProvider) {\n\n        $urlRouterProvider.otherwise('/');\n\n        $stateProvider\n            .state('home', {\n                url: '/',\n                templateUrl: './views/home.html',\n                controller: 'mainCtrl'\n            })\n            .state('userVideos', {\n                url: '/userVideos',\n                templateUrl: './views/userVideos.html',\n                controller: 'userVideosCtrl'\n            })\n            .state('search', {\n                url: '/search',\n                templateUrl: './views/search.html',\n                controller: 'searchCtrl'\n            })\n            .state('edit', {\n                url: '/edit',\n                templateUrl: './views/editvideo.html',\n                controller: 'editCtrl'\n            })\n            .state('playvideo', {\n                url: '/playvideo',\n                templateUrl: './views/playVid.html',\n                controller: 'playVideo'\n            })\n            .state('uploadVideo', {\n                url: '/uploadVideo',\n                templateUrl: './views/uploadVideo.html',\n                controller: 'uploadVideoCtrl'\n            })\n            .state('loading', {\n                url: '/searching',\n                templateUrl: './views/loading.html',\n                controller: 'loadingCtrl'\n            })\n            .state('watchLater', {\n                url: '/watchlater',\n                templateUrl: './views/watchLater.html',\n                controller: 'userVideos'\n            })\n    });\n","angular.module('vimeoApp').directive('footerDir', function () {\n    return {\n        restrict: \"AE\",\n        templateUrl: \"./views/footerDir.html\"\n    }\n});","angular.module('vimeoApp')\n.directive('navBar', function() {\n\n  return {\n    restrict: 'E',\n    templateUrl: './views/navBar.html',\n    link: function(scope){\n    },\n    controller: 'navBarCtrl'\n    }\n\n})\n","angular.module('vimeoApp').service('mainService', function ($http) {\n    let serverUrl = 'http://localhost:3012';\n    this.videoData = '';\n    this.video = '';\n    this.arr = [];\n    this.searchedVideo = data => {\n        this.videoData = data;\n    };\n    this.clickedVideo = videoLink => {\n        this.video = videoLink;\n    };\n    this.getId = id => {\n        this.arr.push(id);\n        if (this.arr.length > 1) {\n            while (this.arr.length > 1) {\n                this.arr.shift();\n            }\n        }\n    };\n    this.getVideosByChannel = channel => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + `/api/videos/channels/${channel}`\n        })\n    };\n    this.searchVideos = (page, query) => {\n        this.query = query;\n        return $http({\n            method: 'GET',\n            url: serverUrl + `/api/videos/${page}?search=${query}`\n        })\n    };\n    this.getVideoById = id => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + `/api/videos?id=${id}`\n        })\n    };\n    this.getComments = id => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + `/api/videos/${id}/comments`\n        })\n    };\n    this.postComment = (id, text) => {\n        return $http({\n            method: 'POST',\n            data: {text},\n            url: serverUrl + `/api/videos/${id}/comments`\n        })\n    };\n    this.login = () => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/login'\n        })\n    };\n    this.getUser = () => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/currentuser'\n        })\n    };\n    this.uploadVideo = () => {\n        return $http({\n            method: 'POST',\n            url: serverUrl + '/api/upload'\n        })\n    };\n    this.userVideos = () => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/usersvideos'\n        })\n    };\n    this.getAccessToken = () => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/accesstoken'\n        })\n    };\n    this.addToWatchLater = (video, id) => {\n        return $http({\n            method: 'POST',\n            data: {video},\n            url: serverUrl + `/api/videos/${id}/watchlater`\n        })\n    };\n    this.getWatchLaterList = () => {\n        return $http({\n            method: 'GET',\n            url: serverUrl + '/api/usersvideos'\n        })\n    }\n});\n","angular.module('vimeoApp').controller('accountCtrl', function ($scope) {\n\n});\n","angular.module('vimeoApp').controller('loadingCtrl', function ($scope, $timeout) {\n\n    $scope.loadB = true;\n    $scope.loadG = false;\n    $scope.loadR = false;\n\n    $timeout();\n\n    $timeout(function () {\n        $scope.loadG = true;\n    }, 500);\n\n    $timeout();\n\n    $timeout(function () {\n        $scope.loadR = true;\n    }, 1000);\n\n    $timeout();\n\n});\n","angular.module('vimeoApp').controller('mainCtrl', function ($scope, mainService, $state) {\n\n    $scope.login = () => {\n        mainService.login().then(res => {\n            $scope.data = res.data;\n        })\n    }\n    $scope.login();\n\n    $scope.playVideo = (videoLink, uri) => {\n        mainService.clickedVideo(videoLink);\n        let id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    }\n\n    mainService.getVideosByChannel('staffpicks').then(res => {\n        $scope.staffpicks = res.data.data;\n    })\n});\n","angular.module('vimeoApp').controller('navBarCtrl', function ($scope, mainService, $state) {\n\n    $scope.profilePicAndUpload = false;\n\n    $scope.logInNavBar = true;\n\n    $scope.mainDropDown = true;\n\n    $scope.login = () => {\n        mainService.login().then(res => {\n            $scope.data = res.data;\n        })\n    }\n    $scope.login();\n\n    $scope.searchQuery = query => {\n        $state.go('loading');\n        mainService.searchVideos(1, query).then(response => {\n            mainService.searchedVideo(response.data.data);\n            $state.go('search');\n            $scope.query = '';\n        })\n    }\n    $scope.getUser = () => {\n        $state.go('uploadVideo');\n        mainService.getUser().then(res => {\n        })\n    }\n\n    $scope.checkUser = () => {\n        mainService.getUser().then(res => {\n            if (res.data.name) {\n                $scope.logInNavBar = false;\n                $scope.profilePicture = res.data.pictures[3].link;\n                $scope.userName = res.data.name;\n                $scope.profilePicAndUpload = true;\n            }\n        })\n    }\n\n    $scope.checkUser();\n});\n","angular.module('vimeoApp').controller('playVideo', function ($scope, mainService, $state) {\n\n    $scope.video = mainService.video;\n\n    let id = mainService.arr[0];\n\n    mainService.getComments(id).then(res => {\n        $scope.comments = res.data.data;\n    })\n\n    $scope.addComment = () => {\n        let id = mainService.arr[0];\n        console.log(id);\n        console.log($scope.text);\n        mainService.postComment(id, $scope.text).then(res => {\n            mainService.getComments(id).then(res => {\n                $scope.comments = res.data.data;\n            })\n        })\n    }\n    $scope.playVideo = (videoLink, uri) => {\n        $state.go('loading');\n        console.log(videoLink, uri);\n        mainService.clickedVideo(videoLink);\n        let id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    }\n\n    $scope.getVideo = () => {\n        let id = mainService.arr[0];\n        mainService.getVideoById(id).then(res => {\n            $scope.media = res.data\n\n            var beforeDate=res.data.created_time;\n            function date (beforeDate){\n              var newD=beforeDate.slice(0,10);\n              var splitDate=newD.split('')\n              var noDash=splitDate.filter(function(numb){\n                return numb!=='-';\n              })\n              var forMoment=noDash.join(\"\")\n              $scope.momentTime=moment(forMoment, \"YYYYMMDD\").fromNow();\n            }\n\ndate(\"2017-05-31T14:33:14+00:00\")\n\n            $scope.dateTest=moment(\"20170601\", \"YYYYMMDD\").fromNow();\n        })\n    }\n    $scope.getVideo();\n\n    mainService.getVideosByChannel('staffpicks').then(res => {\n        $scope.staffpicks = res.data.data;\n    })\n\n    document.querySelector(\".video-window\").innerHTML = $scope.video;\n});\n","angular.module('vimeoApp').controller('searchCtrl', function ($scope, mainService, $state) {\n\n    function test2() {\n        $scope.videos = mainService.videoData;\n    }\n    test2();\n\n    $scope.getVideoID = id => {\n        mainService.getId(id);\n    }\n\n    $scope.playVideo = (videoLink, uri) => {\n        mainService.clickedVideo(videoLink);\n        let id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    }\n\n    $scope.page = num => {\n        mainService.searchVideos(num, mainService.query).then(res => {\n            $scope.videos = res.data.data;\n        })\n    }\n    $scope.addToWatchLaterList = () => {\n        mainService.getVideoById\n        mainService.addToWatchLater(video, id).then(res => {\n            console.log(res);\n        })\n    }\n});\n","","angular.module('vimeoApp').controller('uploadVideoCtrl', function ($scope, mainService, $state, $http) {\n\n    $scope.getAccessToken = () => {\n        mainService.getAccessToken().then(resp => {\n            $http({\n                method: 'POST',\n                url: 'https://api.vimeo.com/me/videos',\n                headers: {Authorization: `Bearer ${resp.data.access_token}`},\n                data: {\n                    type: 'POST',\n                    redirect_url: `http://localhost:3012/#!/userVideos`\n                }\n            }).then(res => {\n                let link = res.data.upload_link_secure;\n                $http({\n                    method: 'POST',\n                    url: link,\n                    data: $scope.video\n                }).then(res => {\n                    console.log(res);\n                })\n            })\n        })\n    }\n});\n","angular.module('vimeoApp').controller('userVideosCtrl', function ($scope, mainService, $state) {\n\n    $scope.convertTime = (seconds) => {\n      var minutes = Math.floor(seconds / 60); // 7\n      var seconds = seconds % 60; // 30\n      $scope.convertedTime=minutes+\":\"+seconds;\n    }\n\n    $scope.userVideos = () => {\n        mainService.userVideos().then(res => {\n            $scope.videos = res.data.data;\n            console.log($scope.videos);\n        })\n    }\n    $scope.userVideos();\n\n    $scope.play = (videoLink, uri) => {\n        mainService.clickedVideo(videoLink);\n        let id = uri.replace(/\\D/g, '');\n        mainService.getId(id);\n        $state.go('playvideo');\n    }\n    $scope.displayWatchLaterList = () => {\n        let id = mainService.arr[0];\n        mainService.getVideoById(id).then(res => {\n            mainService.getWatchLaterList(res.data, id).then(resp => {\n                $scope.list = resp.data;\n            })\n        })\n\n    }\n    $scope.displayWatchLaterList();\n});\n"]}